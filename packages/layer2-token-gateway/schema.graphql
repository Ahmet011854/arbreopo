type Gateway @entity {
  "gateway address hex string"
  id: ID!
  "tokens this gateway supports"
  tokens: [TokenGatewayJoinTable!] @derivedFrom(field: "gateway")
}

type Token @entity {
  "l1 token address hex string"
  id: ID!
  "l2 token address hex string, optional"
  l2Address: Bytes # address
  "gateway that supports this token"
  gateway: [TokenGatewayJoinTable!] @derivedFrom(field: "token")
}

type TokenGatewayJoinTable @entity {
  "Set to concat `gateway.id` and `token.id`"
  id: ID!
  gateway: Gateway!
  token: Token!
  withdrawals: [Withdrawal!] @derivedFrom(field: "exitInfo")
}

type Withdrawal @entity {
  "this is the l2ToL1Id of the transaction as surfaced by arb-os"
  id: ID!
  "the L2 block number when this was triggered"
  l2BlockNum: BigInt!
  from: Bytes!
  to: Bytes!
  amount: BigInt!
  exitNum: BigInt!
  exitInfo: TokenGatewayJoinTable!
}
